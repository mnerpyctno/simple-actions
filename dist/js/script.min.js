"use strict";const form=document.querySelector(".contact-form__form"),inputs=form.querySelectorAll("input"),textarea=form.querySelector("textarea"),submit=form.querySelector("button"),modal=document.querySelector(".modal"),modalContent=modal.querySelector(".modal__content"),modalBack=modal.querySelector(".modal__link"),data=[];async function submitHandler(e){try{const t=await fetch("../../mail.php",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}),o=await t.json();console.log("Успех:",JSON.stringify(o))}catch(e){console.error("Ошибка:",e)}}inputs.forEach(e=>{e.addEventListener("change",e=>{data.push(e.target.value),console.log(data)})}),textarea.addEventListener("change",e=>{data.push(e.target.value),console.log(data)}),form.addEventListener("submit",e=>{let t=document.createElement("p"),o=document.createElement("h3");e.preventDefault(),3!==data.length?(t.textContent="Пожалуйста, заполните все поля.",o.textContent="Произошла ошибка.",modalContent.prepend(o,t)):(t.textContent="Спасибо за Вашу заявку!",o.textContent="Мы свяжемся с вами в ближайшее время.",modalContent.prepend(o,t),submitHandler(data)),modal.classList.add("show"),modalBack.addEventListener("click",e=>{e.preventDefault(),modal.classList.remove("show"),o.remove(),t.remove()})});"use strict";const form=document.querySelector(".contact-form__form"),inputs=form.querySelectorAll("input"),textarea=form.querySelector("textarea"),submit=form.querySelector("button"),modal=document.querySelector(".modal"),modalContent=modal.querySelector(".modal__content"),modalBack=modal.querySelector(".modal__link"),data=[];async function submitHandler(e){try{const t=await fetch("../../mail.php",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}),o=await t.json();console.log("Успех:",JSON.stringify(o))}catch(e){console.error("Ошибка:",e)}}inputs.forEach(e=>{e.addEventListener("change",e=>{data.push(e.target.value),console.log(data)})}),textarea.addEventListener("change",e=>{data.push(e.target.value),console.log(data)}),form.addEventListener("submit",e=>{let t=document.createElement("p"),o=document.createElement("h3");e.preventDefault(),3!==data.length?(t.textContent="Пожалуйста, заполните все поля.",o.textContent="Произошла ошибка.",modalContent.prepend(o,t)):(t.textContent="Спасибо за Вашу заявку!",o.textContent="Мы свяжемся с вами в ближайшее время.",modalContent.prepend(o,t),submitHandler(data)),modal.classList.add("show"),modalBack.addEventListener("click",e=>{e.preventDefault(),modal.classList.remove("show"),o.remove(),t.remove()})});